{"remainingRequest":"/Users/alexbrown/Development/fandanzle-v2/node_modules/babel-loader/lib/index.js!/Users/alexbrown/Development/fandanzle-v2/src/core/store.ts","dependencies":[{"path":"/Users/alexbrown/Development/fandanzle-v2/src/core/store.ts","mtime":1583616324155},{"path":"/Users/alexbrown/Development/fandanzle-v2/.babelrc","mtime":1575409032754},{"path":"/Users/alexbrown/Development/fandanzle-v2/node_modules/cache-loader/dist/cjs.js","mtime":1583684819619},{"path":"/Users/alexbrown/Development/fandanzle-v2/node_modules/babel-loader/lib/index.js","mtime":1575412165599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FsZXhicm93bi9EZXZlbG9wbWVudC9mYW5kYW56bGUtdjIvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZCI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGFwcGx5TWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JzsKaW1wb3J0IGNyZWF0ZVNhZ2EsIHsgRU5EIH0gZnJvbSAncmVkdXgtc2FnYSc7CmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICdyZWR1eC1kZXZ0b29scy1leHRlbnNpb24nOwppbXBvcnQgeyByb3V0ZXJNaWRkbGV3YXJlIH0gZnJvbSAnY29ubmVjdGVkLXJlYWN0LXJvdXRlcic7CmltcG9ydCByb290UmVkdWNlcnMgZnJvbSAnLi4vY29yZS9yZWR1Y2Vycyc7CmltcG9ydCB7IGlzU2VydmVyUmVuZGVyIH0gZnJvbSAnLi4vdXRpbHMnOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKGhpc3RvcnkpIHsKICB2YXIgcmVkdXhTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogIC8vCiAgY29uc29sZS5sb2coJ0lzIHRoaXMgYSBzZXJ2ZXIgc2lkZSByZW5kZXInKTsKICBjb25zb2xlLmxvZyhpc1NlcnZlclJlbmRlcik7IC8vIENvbXBvc2Ugb3VyIG1pZGRsZXdhcmVzCgogIHZhciBzYWdhID0gY3JlYXRlU2FnYSgpOwogIHZhciByb3V0ZXIgPSByb3V0ZXJNaWRkbGV3YXJlKGhpc3RvcnkpOyAvLyBDb21wb3NlIHdpdGggZGV2IHRvb2xzCgogIHZhciBlbmhhbmNlciA9IGNvbXBvc2VXaXRoRGV2VG9vbHMoYXBwbHlNaWRkbGV3YXJlKHNhZ2EsIHJvdXRlcikpOyAvLyBDcmVhdGUgb3VyIHN0b3JlCgogIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJvb3RSZWR1Y2VycyhoaXN0b3J5KSwgcmVkdXhTdGF0ZSwgZW5oYW5jZXIpOyAvLyBUT0RPOiBUaGlzIG5lZWRzIHRvIGJlIHByb3Blcmx5IHR5cGVzCgogIHN0b3JlLnJ1blNhZ2EgPSBzYWdhLnJ1bjsKCiAgc3RvcmUuY2xvc2VTYWdhcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaChFTkQpOwogIH07IC8vIFRPRE86IENsZWFudXAKCgogIGlmIChtb2R1bGUuaG90KSB7CiAgICAvLyBFbmFibGUgV2VicGFjayBob3QgbW9kdWxlIHJlcGxhY2VtZW50IGZvciByZWR1Y2VycwogICAgbW9kdWxlLmhvdC5hY2NlcHQoJy4uL2NvcmUvcmVkdWNlcnMnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuZXh0UmVkdWNlcnMgPSByZXF1aXJlKCcuLi9jb3JlL3JlZHVjZXJzJyk7CgogICAgICB2YXIgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoX29iamVjdFNwcmVhZCh7fSwgbmV4dFJlZHVjZXJzKSk7CiAgICAgIHN0b3JlLnJlcGxhY2VSZWR1Y2VyKHJvb3RSZWR1Y2VyKTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIHN0b3JlOwp9KTs="},{"version":3,"sources":["/Users/alexbrown/Development/fandanzle-v2/src/core/store.ts"],"names":["createStore","combineReducers","applyMiddleware","createSaga","END","composeWithDevTools","routerMiddleware","rootReducers","isServerRender","history","reduxState","undefined","console","log","saga","router","enhancer","store","runSaga","run","closeSagas","dispatch","module","hot","accept","nextReducers","require","rootReducer","replaceReducer"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,eAAvC,QAAiF,OAAjF;AACA,OAAOC,UAAP,IAAqBC,GAArB,QAAgD,YAAhD;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AAEA,OAAOC,YAAP,MAAyB,kBAAzB;AACA,SAASC,cAAT,QAA+B,UAA/B;AAEA,gBAAe,UAACC,OAAD,EAA0C;AAAA,MAA3BC,UAA2B,uEAAdC,SAAc;AAEvD;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYL,cAAZ,EAJuD,CAMvD;;AACA,MAAMM,IAAoB,GAAGX,UAAU,EAAvC;AACA,MAAMY,MAAkB,GAAGT,gBAAgB,CAACG,OAAD,CAA3C,CARuD,CAUvD;;AACA,MAAMO,QAAQ,GAAGX,mBAAmB,CAACH,eAAe,CAACY,IAAD,EAAOC,MAAP,CAAhB,CAApC,CAXuD,CAavD;;AACA,MAAME,KAAY,GAAGjB,WAAW,CAC9BO,YAAY,CAACE,OAAD,CADkB,EAE9BC,UAF8B,EAG9BM,QAH8B,CAAhC,CAduD,CAoBvD;;AACCC,EAAAA,KAAD,CAAeC,OAAf,GAAyBJ,IAAI,CAACK,GAA9B;;AACCF,EAAAA,KAAD,CAAeG,UAAf,GAA4B;AAAA,WAAMH,KAAK,CAACI,QAAN,CAAejB,GAAf,CAAN;AAAA,GAA5B,CAtBuD,CAwBvD;;;AACA,MAAKkB,MAAD,CAAgBC,GAApB,EAAyB;AACvB;AACCD,IAAAA,MAAD,CAAgBC,GAAhB,CAAoBC,MAApB,CAA2B,kBAA3B,EAA+C,YAAM;AACnD,UAAMC,YAAY,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AACA,UAAMC,WAAW,GAAG1B,eAAe,mBAC9BwB,YAD8B,EAAnC;AAGAR,MAAAA,KAAK,CAACW,cAAN,CAAqBD,WAArB;AACD,KAND;AAOD;;AAED,SAAOV,KAAP;AACD,CArCD","sourcesContent":["import { createStore, combineReducers, applyMiddleware, Store, Middleware } from 'redux';\nimport createSaga, { END, SagaMiddleware } from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { routerMiddleware } from 'connected-react-router'\n\nimport rootReducers from '../core/reducers';\nimport { isServerRender } from '../utils';\n\nexport default (history: any, reduxState = undefined) => {\n\n  //\n  console.log('Is this a server side render');\n  console.log(isServerRender)\n\n  // Compose our middlewares\n  const saga: SagaMiddleware = createSaga();\n  const router: Middleware = routerMiddleware(history);\n\n  // Compose with dev tools\n  const enhancer = composeWithDevTools(applyMiddleware(saga, router));\n\n  // Create our store\n  const store: Store = createStore(\n    rootReducers(history),\n    reduxState,\n    enhancer\n  );\n\n  // TODO: This needs to be properly types\n  (store as any).runSaga = saga.run;\n  (store as any).closeSagas = () => store.dispatch(END);\n\n  // TODO: Cleanup\n  if ((module as any).hot) {\n    // Enable Webpack hot module replacement for reducers\n    (module as any).hot.accept('../core/reducers', () => {\n      const nextReducers = require('../core/reducers');\n      const rootReducer = combineReducers({\n        ...nextReducers,\n      });\n      store.replaceReducer(rootReducer);\n    });\n  }\n\n  return store;\n};"]}]}